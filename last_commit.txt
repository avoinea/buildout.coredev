Repository: Products.CMFPlone


Branch: refs/heads/5.2.x
Date: 2020-03-27T12:27:37+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/17f90cc9bd47f5df2e5f9455c3362bc474a6de31

Allow accessing plone_view.patterns_settings.

This was no problem until now, but a newer `Zope/zope.tales/Chameleon`  is rightly stricter.
Fixes https://github.com/plone/Products.CMFPlone/issues/3066

I am so bold as to directly commit this on the 5.2.x branch.

Files changed:
A news/3066.bugfix
M Products/CMFPlone/browser/interfaces.py

b'diff --git a/Products/CMFPlone/browser/interfaces.py b/Products/CMFPlone/browser/interfaces.py\nindex 14881f6653..be1164f9d4 100644\n--- a/Products/CMFPlone/browser/interfaces.py\n+++ b/Products/CMFPlone/browser/interfaces.py\n@@ -288,6 +288,9 @@ def cropText(text, length, ellipsis):\n     def site_encoding():\n         """ returns site encoding """\n \n+    def patterns_settings():\n+        """ returns mockup pattern settings """\n+\n \n class ISendToForm(Interface):\n     """ Interface for describing the \'sendto\' form """\ndiff --git a/news/3066.bugfix b/news/3066.bugfix\nnew file mode 100644\nindex 0000000000..c3a04a1e39\n--- /dev/null\n+++ b/news/3066.bugfix\n@@ -0,0 +1,3 @@\n+Allow accessing ``plone_view.patterns_settings``.\n+This was no problem until now, but a newer ``Zope/zope.tales/Chameleon``  is rightly stricter.\n+[maurits]\n'

