Repository: plone.restapi


Branch: refs/heads/master
Date: 2020-03-12T07:20:25+01:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.restapi/commit/1548a5358ec3e184bacdce61565f663aeb6a1f68

Run Plone 5.2 performance tests.

Files changed:
M Jenkinsfile
M Makefile
M performance/plone-5.2-py3-imac-pro-20191122/README.md

b'diff --git a/Jenkinsfile b/Jenkinsfile\nindex 526a21bb..5f4712f6 100644\n--- a/Jenkinsfile\n+++ b/Jenkinsfile\n@@ -21,10 +21,10 @@ pipeline {\n         checkout scm\n         sh "virtualenv ."\n         sh "bin/pip install -r requirements.txt"\n-        sh "bin/buildout -c plone-5.1.x-performance.cfg"\n+        sh "bin/buildout -c plone-5.2.x-performance.cfg"\n         sh "bin/instance start"\n         sh "sleep 10"\n-        sh "/opt/jmeter/bin/jmeter -n -t performance.jmx -l jmeter.csv"\n+        sh "jmeter -n -t performance.jmx -l jmeter.csv"\n         sh "cat jmeter.csv"\n         sh "bin/instance stop"\n       }\ndiff --git a/Makefile b/Makefile\nindex bfe35bda..1aacdf22 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -71,6 +71,12 @@ build-plone-5.2: .installed.cfg  ## Build Plone 5.2\n \tbin/pip install -r requirements.txt\n \tbin/buildout -c plone-5.2.x.cfg\n \n+.PHONY: Build Plone 5.2 Performance\n+build-plone-5.2-performance: .installed.cfg  ## Build Plone 5.2\n+\tbin/pip install --upgrade pip\n+\tbin/pip install -r requirements.txt\n+\tbin/buildout -c plone-5.2.x-performance.cfg\n+\n .PHONY: Test\n test:  ## Test\n \tbin/test\ndiff --git a/performance/plone-5.2-py3-imac-pro-20191122/README.md b/performance/plone-5.2-py3-imac-pro-20191122/README.md\nindex f9752a1d..f7275d89 100644\n--- a/performance/plone-5.2-py3-imac-pro-20191122/README.md\n+++ b/performance/plone-5.2-py3-imac-pro-20191122/README.md\n@@ -1,3 +1,32 @@\n+# REST API PERFORMANCE TESTING\n+\n+## Setup\n+\n+Install jMeter:\n+\n+````\n+brew install jmeter\n+````\n+\n+Setup Buildout:\n+\n+````\n+make build-plone-5.2-performance\n+````\n+\n+Start Plone instance:\n+\n+````\n+bin/instance fg\n+````\n+\n+Run performance test:\n+\n+````\n+make test-performance\n+````\n+\n+\n # Performance Test Plone 5.2 / Python 3\n \n Hardware: iMac Pro\n'

Repository: plone.restapi


Branch: refs/heads/master
Date: 2020-03-12T07:20:43+01:00
Author: Timo Stollenwerk (tisto) <stollenwerk@kitconcept.com>
Commit: https://github.com/plone/plone.restapi/commit/ec3d2db8d6b2b69864dde8f8353dec919d3a09c9

Merge branch 'master' of github.com:plone/plone.restapi

Files changed:
M Jenkinsfile

b"diff --git a/Jenkinsfile b/Jenkinsfile\nindex 5f4712f6..ba0d329d 100644\n--- a/Jenkinsfile\n+++ b/Jenkinsfile\n@@ -30,7 +30,7 @@ pipeline {\n       }\n       post {\n         always {\n-         perfReport '**/*.csv'\n+          perfReport '**/*.csv'\n         }\n       }\n     }\n"

