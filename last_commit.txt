Repository: plone.dexterity


Branch: refs/heads/master
Date: 2020-02-22T00:18:28+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.dexterity/commit/9f1f3ab166c6b54220cea735b6cfd6bc4512b606

prepare fo zope 4.2.1

Files changed:
M plone/dexterity/tests/test_webdav.py

b'diff --git a/plone/dexterity/tests/test_webdav.py b/plone/dexterity/tests/test_webdav.py\nindex 8ec082c..a29837b 100644\n--- a/plone/dexterity/tests/test_webdav.py\n+++ b/plone/dexterity/tests/test_webdav.py\n@@ -36,6 +36,7 @@\n     from zope.filerepresentation.interfaces import IFileFactory\n     from zope.filerepresentation.interfaces import IRawReadFile\n     from zope.filerepresentation.interfaces import IRawWriteFile\n+    from zope.interface import provider\n     from zope.interface import alsoProvides\n     from zope.interface import implementer\n     from zope.interface import Interface\n@@ -48,10 +49,10 @@\n     import re\n \n \n+    @provider(IFormFieldProvider)\n     class ITestBehavior(Interface):\n         foo = schema.Int()\n         bar = schema.Bytes()\n-    alsoProvides(ITestBehavior, IFormFieldProvider)\n \n \n     class DAVTestRequest(TestRequest):\n@@ -456,10 +457,6 @@ def content_type(self):\n \n             self.assertEqual(response, r.HEAD(request, request.response))\n             self.assertEqual(200, response.getStatus())\n-            self.assertEqual(\n-                \'close\',\n-                response.getHeader(\'Connection\', literal=True)\n-            )\n             self.assertTrue(\n                 response.getHeader(\'Content-Type\').startswith(\'text/foo\'))\n             self.assertEqual(\'10\', response.getHeader(\'Content-Length\'))\n@@ -482,10 +479,6 @@ def content_type(self):\n             response = request.response\n \n             self.assertEqual(response, r.OPTIONS(request, request.response))\n-            self.assertEqual(\n-                \'close\',\n-                response.getHeader(\'Connection\', literal=True)\n-            )\n             self.assertEqual(\n                 \'GET, HEAD, POST, PUT, DELETE, OPTIONS, TRACE, PROPFIND, \'\n                 \'PROPPATCH, MKCOL, COPY, MOVE, LOCK, UNLOCK\',\n@@ -529,12 +522,7 @@ def content_type(self):\n             response = request.response\n \n             self.assertEqual(response, r.PROPFIND(request, response))\n-\n-            self.assertEqual(\n-                \'close\',\n-                response.getHeader(\'connection\', literal=True)\n-            )\n-            self.assertEqual(\n+self.assertEqual(\n                 \'text/xml; charset="utf-8"\', response.getHeader(\'Content-Type\')\n             )\n             self.assertEqual(207, response.getStatus())\n@@ -621,9 +609,6 @@ def content_type(self):\n \n             self.assertEqual(\'New title\', container.getProperty(\'title\'))\n \n-            self.assertEqual(\n-                \'close\', response.getHeader(\'connection\', literal=True)\n-            )\n             self.assertEqual(\n                 \'text/xml; charset="utf-8"\', response.getHeader(\'Content-Type\')\n             )\n@@ -763,7 +748,6 @@ def manage_DAVget(self):\n \n         def test_manage_FTPget(self):\n             class TestContainer(Container):\n-\n                 def manage_FTPget(self):\n                     return \'data\'\n \n'

Repository: plone.dexterity


Branch: refs/heads/master
Date: 2020-03-04T18:56:14+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.dexterity/commit/4fc6758ba73742ff6b0906d5b6c6f7a4dcfd3c45

Fixed IndentationError: unexpected indent

Files changed:
M plone/dexterity/tests/test_webdav.py

b'diff --git a/plone/dexterity/tests/test_webdav.py b/plone/dexterity/tests/test_webdav.py\nindex a29837b..96d4c12 100644\n--- a/plone/dexterity/tests/test_webdav.py\n+++ b/plone/dexterity/tests/test_webdav.py\n@@ -522,7 +522,7 @@ def content_type(self):\n             response = request.response\n \n             self.assertEqual(response, r.PROPFIND(request, response))\n-self.assertEqual(\n+            self.assertEqual(\n                 \'text/xml; charset="utf-8"\', response.getHeader(\'Content-Type\')\n             )\n             self.assertEqual(207, response.getStatus())\n'

Repository: plone.dexterity


Branch: refs/heads/master
Date: 2020-03-25T23:34:26+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.dexterity/commit/e76e55c77ab67baa46b9756421ec8057fdbf7212

Merge branch 'zope-4.2.1'

Files changed:
M plone/dexterity/tests/test_webdav.py

b'diff --git a/plone/dexterity/tests/test_webdav.py b/plone/dexterity/tests/test_webdav.py\nindex 8ec082c..96d4c12 100644\n--- a/plone/dexterity/tests/test_webdav.py\n+++ b/plone/dexterity/tests/test_webdav.py\n@@ -36,6 +36,7 @@\n     from zope.filerepresentation.interfaces import IFileFactory\n     from zope.filerepresentation.interfaces import IRawReadFile\n     from zope.filerepresentation.interfaces import IRawWriteFile\n+    from zope.interface import provider\n     from zope.interface import alsoProvides\n     from zope.interface import implementer\n     from zope.interface import Interface\n@@ -48,10 +49,10 @@\n     import re\n \n \n+    @provider(IFormFieldProvider)\n     class ITestBehavior(Interface):\n         foo = schema.Int()\n         bar = schema.Bytes()\n-    alsoProvides(ITestBehavior, IFormFieldProvider)\n \n \n     class DAVTestRequest(TestRequest):\n@@ -456,10 +457,6 @@ def content_type(self):\n \n             self.assertEqual(response, r.HEAD(request, request.response))\n             self.assertEqual(200, response.getStatus())\n-            self.assertEqual(\n-                \'close\',\n-                response.getHeader(\'Connection\', literal=True)\n-            )\n             self.assertTrue(\n                 response.getHeader(\'Content-Type\').startswith(\'text/foo\'))\n             self.assertEqual(\'10\', response.getHeader(\'Content-Length\'))\n@@ -482,10 +479,6 @@ def content_type(self):\n             response = request.response\n \n             self.assertEqual(response, r.OPTIONS(request, request.response))\n-            self.assertEqual(\n-                \'close\',\n-                response.getHeader(\'Connection\', literal=True)\n-            )\n             self.assertEqual(\n                 \'GET, HEAD, POST, PUT, DELETE, OPTIONS, TRACE, PROPFIND, \'\n                 \'PROPPATCH, MKCOL, COPY, MOVE, LOCK, UNLOCK\',\n@@ -529,11 +522,6 @@ def content_type(self):\n             response = request.response\n \n             self.assertEqual(response, r.PROPFIND(request, response))\n-\n-            self.assertEqual(\n-                \'close\',\n-                response.getHeader(\'connection\', literal=True)\n-            )\n             self.assertEqual(\n                 \'text/xml; charset="utf-8"\', response.getHeader(\'Content-Type\')\n             )\n@@ -621,9 +609,6 @@ def content_type(self):\n \n             self.assertEqual(\'New title\', container.getProperty(\'title\'))\n \n-            self.assertEqual(\n-                \'close\', response.getHeader(\'connection\', literal=True)\n-            )\n             self.assertEqual(\n                 \'text/xml; charset="utf-8"\', response.getHeader(\'Content-Type\')\n             )\n@@ -763,7 +748,6 @@ def manage_DAVget(self):\n \n         def test_manage_FTPget(self):\n             class TestContainer(Container):\n-\n                 def manage_FTPget(self):\n                     return \'data\'\n \n'

